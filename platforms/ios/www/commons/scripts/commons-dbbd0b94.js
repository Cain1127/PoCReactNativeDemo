"use strict";angular.module("commonProviderModule",[]).constant("ENVIRONMENT",!0).constant("API_ENDPOINT",function(e){return e?{host:"http://10.202.115.84",port:8080,path:"/elementsMall-server",needsAuth:!1,username:"whatever",password:"foobar"}:{host:"http://localhost",port:8080,path:"/",needsAuth:!1}}).provider("BaseData",["ENVIRONMENT","API_ENDPOINT",function(e,t){this.$get=function(){return t(e)}}]),angular.module("commonServiceModule",["commonProviderModule"]).factory("BaseService",["$window","$http","BaseData","$log",function(e,t,o,n){n.info(JSON.stringify(o));var r=o,a=r.port?r.host+":"+r.port+r.path:r.host+r.path;r.needsAuth&&(t.defaults.headers.common.Authorization="Basic "+e.btoa(r.username+":"+r.password)),t.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=utf-8";var s=function(e){var t,o,n,r,a,u,i,c="";for(t in e)if(o=e[t],o instanceof Array)for(i=0;i<o.length;++i)a=o[i],n=t+"["+i+"]",u={},u[n]=a,c+=s(u)+"&";else if(o instanceof Object)for(r in o)a=o[r],n=t+"["+r+"]",u={},u[n]=a,c+=s(u)+"&";else void 0!==o&&null!==o&&(c+=encodeURIComponent(t)+"="+encodeURIComponent(o)+"&");return c.length?c.substr(0,c.length-1):c};return t.defaults.transformRequest=[function(e){return angular.isObject(e)&&"[object File]"!==String(e)?s(e):e}],t.defaults.useXDomain=!0,delete t.defaults.headers.common["X-Requested-With"],{getConnection:function(e,o,r){return n.info(e,JSON.stringify(o),r),t({url:a+e,data:o,method:r?r:"GET"})}}}]);